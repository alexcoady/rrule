extends layout
block body
  h1 RRule

  pre= rrule
  
  list = rrule.list()
  if list.length
    h4 #{list.length} date#{ list.length === 1 ? "" : "s" }
    ul.list-group
      cache = false
      diff = 0
      each date, i in list
        li.list-group-item= DateFormat(date, "fullDate")
          .badge= i+1
          if cache
            diff = cache.getDaysBetween(date)
            .badge #{diff} days later
        - cache = date
